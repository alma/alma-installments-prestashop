!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Alma={})}(this,function(o){"use strict";function l(t){return isNaN(t=+t)?0:(0<t?n:e)(t)}function s(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function t(c){return function(t,e){var n,r,o=String(s(t)),i=l(e),a=o.length;return i<0||a<=i?c?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?c?o.charAt(i):n:c?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}var e=Math.ceil,n=Math.floor,r={codeAt:t(!1),charAt:t(!0)},i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function a(t,e){return t(e={exports:{}},e.exports),e.exports}function c(t){return t&&t.Math==Math&&t}function u(t){try{return!!t()}catch(t){return!0}}function f(t){return"object"==typeof t?null!==t:"function"==typeof t}function p(t){return b?g.createElement(t):{}}function h(t){if(!f(t))throw TypeError(String(t)+" is not an object");return t}function d(t,e){if(!f(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!f(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!f(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!f(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function w(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function m(e,n){try{O(v,e,n)}catch(t){v[e]=n}return n}var v=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof i&&i)||Function("return this")(),y=!u(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),g=v.document,b=f(g)&&f(g.createElement),E=!y&&!u(function(){return 7!=Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a}),C=Object.defineProperty,x={f:y?C:function(t,e,n){if(h(t),e=d(e,!0),h(n),E)try{return C(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},O=y?function(t,e,n){return x.f(t,e,w(1,n))}:function(t,e,n){return t[e]=n,t},S="__core-js_shared__",j=v[S]||m(S,{}),A=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(t){return A.call(t)});function D(t,e){return N.call(t,e)}function _(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++z+B).toString(36)}function P(t){return U[t]||(U[t]=_(t))}var L,F,T,M=j.inspectSource,k=v.WeakMap,R="function"==typeof k&&/native code/.test(M(k)),N={}.hasOwnProperty,I=a(function(t){(t.exports=function(t,e){return j[t]||(j[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),z=0,B=Math.random(),U=I("keys"),H={},q=v.WeakMap;if(R){var W=new q,G=W.get,V=W.has,K=W.set;L=function(t,e){return K.call(W,t,e),e},F=function(t){return G.call(W,t)||{}},T=function(t){return V.call(W,t)}}else{var Y=P("state");H[Y]=!0,L=function(t,e){return O(t,Y,e),e},F=function(t){return D(t,Y)?t[Y]:{}},T=function(t){return D(t,Y)}}function X(t){return dt.call(t).slice(8,-1)}function J(t){return vt(s(t))}function Q(t){return"function"==typeof t?t:void 0}function $(t,e){return arguments.length<2?Q(wt[t])||Q(v[t]):wt[t]&&wt[t][e]||v[t]&&v[t][e]}function Z(t){return 0<t?Et(l(t),9007199254740991):0}function tt(u){return function(t,e,n){var r,o,i,a=J(t),c=Z(a.length),s=(r=c,(o=l(n))<0?Ct(o+r,0):xt(o,r));if(u&&e!=e){for(;s<c;)if((i=a[s++])!=i)return!0}else for(;s<c;s++)if((u||s in a)&&a[s]===e)return u||s||0;return!u&&-1}}function et(t,e){var n,r=J(t),o=0,i=[];for(n in r)!D(H,n)&&D(r,n)&&i.push(n);for(;e.length>o;)D(r,n=e[o++])&&(~Ot(i,n)||i.push(n));return i}function nt(t,e){for(var n=_t(e),r=x.f,o=gt.f,i=0;i<n.length;i++){var a=n[i];D(t,a)||r(t,a,o(e,a))}}function rt(t,e){var n=Ft[Lt(t)];return n==Mt||n!=Tt&&("function"==typeof e?u(e):!!e)}function ot(t,e){var n,r,o,i,a,c=t.target,s=t.global,u=t.stat;if(n=s?v:u?v[c]||m(c,{}):(v[c]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(a=Rt(n,r))&&a.value:n[r],!kt(s?r:c+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;nt(i,o)}(t.sham||o&&o.sham)&&O(i,"sham",!0),bt(n,r,i,t)}}function it(t){return Object(s(t))}function at(t){return D(qt,t)||(Ut&&D(Wt,t)?qt[t]=Wt[t]:qt[t]=Gt("Symbol."+t)),qt[t]}var ct,st,ut,lt={set:L,get:F,has:T,enforce:function(t){return T(t)?F(t):L(t,{})},getterFor:function(n){return function(t){var e;if(!f(t)||(e=F(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},ft={}.propertyIsEnumerable,pt=Object.getOwnPropertyDescriptor,ht={f:pt&&!ft.call({1:2},1)?function(t){var e=pt(this,t);return!!e&&e.enumerable}:ft},dt={}.toString,mt="".split,vt=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==X(t)?mt.call(t,""):Object(t)}:Object,yt=Object.getOwnPropertyDescriptor,gt={f:y?yt:function(t,e){if(t=J(t),e=d(e,!0),E)try{return yt(t,e)}catch(t){}if(D(t,e))return w(!ht.f.call(t,e),t[e])}},bt=a(function(t){var e=lt.get,c=lt.enforce,s=String(String).split("String");(t.exports=function(t,e,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||D(n,"name")||O(n,"name",e),c(n).source=s.join("string"==typeof e?e:"")),t!==v?(o?!a&&t[e]&&(i=!0):delete t[e],i?t[e]=n:O(t,e,n)):i?t[e]=n:m(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||M(this)})}),wt=v,Et=Math.min,Ct=Math.max,xt=Math.min,Ot={includes:tt(!0),indexOf:tt(!1)}.indexOf,St=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],jt=St.concat("length","prototype"),At={f:Object.getOwnPropertyNames||function(t){return et(t,jt)}},Dt={f:Object.getOwnPropertySymbols},_t=$("Reflect","ownKeys")||function(t){var e=At.f(h(t)),n=Dt.f;return n?e.concat(n(t)):e},Pt=/#|\.prototype\./,Lt=rt.normalize=function(t){return String(t).replace(Pt,".").toLowerCase()},Ft=rt.data={},Tt=rt.NATIVE="N",Mt=rt.POLYFILL="P",kt=rt,Rt=gt.f,Nt=!u(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),It=P("IE_PROTO"),zt=Object.prototype,Bt=Nt?Object.getPrototypeOf:function(t){return t=it(t),D(t,It)?t[It]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?zt:null},Ut=!!Object.getOwnPropertySymbols&&!u(function(){return!String(Symbol())}),Ht=Ut&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,qt=I("wks"),Wt=v.Symbol,Gt=Ht?Wt:Wt&&Wt.withoutSetter||_,Vt=at("iterator"),Kt=!1;[].keys&&("next"in(ut=[].keys())?(st=Bt(Bt(ut)))!==Object.prototype&&(ct=st):Kt=!0),null==ct&&(ct={}),D(ct,Vt)||O(ct,Vt,function(){return this});function Yt(){}function Xt(t){return"<script>"+t+"</"+ne+">"}var Jt,Qt={IteratorPrototype:ct,BUGGY_SAFARI_ITERATORS:Kt},$t=Object.keys||function(t){return et(t,St)},Zt=y?Object.defineProperties:function(t,e){h(t);for(var n,r=$t(e),o=r.length,i=0;i<o;)x.f(t,n=r[i++],e[n]);return t},te=$("document","documentElement"),ee="prototype",ne="script",re=P("IE_PROTO"),oe=function(){try{Jt=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;oe=Jt?function(t){t.write(Xt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Jt):((e=p("iframe")).style.display="none",te.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Xt("document.F=Object")),t.close(),t.F);for(var n=St.length;n--;)delete oe[ee][St[n]];return oe()};H[re]=!0;function ie(t,e,n){t&&!D(t=n?t:t.prototype,le)&&ue(t,le,{configurable:!0,value:e})}function ae(){return this}function ce(){return this}var se=Object.create||function(t,e){var n;return null!==t?(Yt[ee]=h(t),n=new Yt,Yt[ee]=null,n[re]=t):n=oe(),void 0===e?n:Zt(n,e)},ue=x.f,le=at("toStringTag"),fe={},pe=Qt.IteratorPrototype,he=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return h(t),function(t){if(!f(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(e),r?n.call(t,e):t.__proto__=e,t}}():void 0),de=Qt.IteratorPrototype,me=Qt.BUGGY_SAFARI_ITERATORS,ve=at("iterator"),ye="values",ge="entries",be=r.charAt,we="String Iterator",Ee=lt.set,Ce=lt.getterFor(we);!function(t,e,n,r,o,i,a){var c,s,u;s=r,u=e+" Iterator",(c=n).prototype=se(pe,{next:w(1,s)}),ie(c,u,!1),fe[u]=ae;function l(t){if(t===o&&g)return g;if(!me&&t in v)return v[t];switch(t){case"keys":case ye:case ge:return function(){return new n(this,t)}}return function(){return new n(this)}}var f,p,h,d=e+" Iterator",m=!1,v=t.prototype,y=v[ve]||v["@@iterator"]||o&&v[o],g=!me&&y||l(o),b="Array"==e&&v.entries||y;if(b&&(f=Bt(b.call(new t)),de!==Object.prototype&&f.next&&(Bt(f)!==de&&(he?he(f,de):"function"!=typeof f[ve]&&O(f,ve,ce)),ie(f,d,!0))),o==ye&&y&&y.name!==ye&&(m=!0,g=function(){return y.call(this)}),v[ve]!==g&&O(v,ve,g),fe[e]=g,o)if(p={values:l(ye),keys:i?g:l("keys"),entries:l(ge)},a)for(h in p)!me&&!m&&h in v||bt(v,h,p[h]);else ot({target:e,proto:!0,forced:me||m},p)}(String,"String",function(t){Ee(this,{type:we,string:String(t),index:0})},function(){var t,e=Ce(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=be(n,r),e.index+=t.length,{value:t,done:!1})});function xe(r,o,t){if(!function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function")}(r),void 0===o)return r;switch(t){case 0:return function(){return r.call(o)};case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}function Oe(e,t,n,r){try{return r?t(h(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&h(o.call(e)),t}}function Se(t,e,n){var r=d(e);r in t?x.f(t,r,w(0,n)):t[r]=n}var je=at("iterator"),Ae=Array.prototype,De={};De[at("toStringTag")]="z";var _e="[object z]"===String(De),Pe=at("toStringTag"),Le="Arguments"==X(function(){return arguments}()),Fe=_e?X:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Pe))?n:Le?X(e):"Object"==(r=X(e))&&"function"==typeof e.callee?"Arguments":r},Te=at("iterator"),Me=at("iterator"),ke=!function(t,e){if(!e)return!1;var n=!1;try{var r={};r[Me]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}(function(t){});ot({target:"Array",stat:!0,forced:ke},{from:function(t,e,n){var r,o,i,a,c,s,u,l=it(t),f="function"==typeof this?this:Array,p=arguments.length,h=1<p?e:void 0,d=void 0!==h,m=function(t){if(null!=t)return t[Te]||t["@@iterator"]||fe[Fe(t)]}(l),v=0;if(d&&(h=xe(h,2<p?n:void 0,2)),null!=m&&(f!=Array||(void 0===(u=m)||fe.Array!==u&&Ae[je]!==u)))for(c=(a=m.call(l)).next,o=new f;!(i=c.call(a)).done;v++)s=d?Oe(a,h,[i.value,v],!0):i.value,Se(o,v,s);else for(o=new f(r=Z(l.length));v<r;v++)s=d?h(l[v],v):l[v],Se(o,v,s);return o.length=v,o}});var Re;wt.Array.from;"function"!=typeof(Re=window.Element.prototype).matches&&(Re.matches=Re.msMatchesSelector||Re.mozMatchesSelector||Re.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=0;e[n]&&e[n]!==this;)++n;return Boolean(e[n])}),"function"!=typeof Re.closest&&(Re.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(e.matches(t))return e;e=e.parentNode}return null}),"".trim||(String.prototype.trim=function(){return this.replace(/^[\s﻿]+|[\s﻿]+$/g,"")}),function(t){t.DOMException||((DOMException=function(t){this.message=t}).prototype=new Error);function u(t,e){if(""===e)throw new DOMException("Failed to execute '"+t+"' on 'DOMTokenList': The token provided must not be empty.");if(-1!==(r=e.search(v)))throw new DOMException("Failed to execute '"+t+"' on 'DOMTokenList': The token provided ('"+e[r]+"') contains HTML space characters, which are not valid in tokens.")}var e,n,v=/[\11\12\14\15\40]/,r=0;"function"!=typeof DOMTokenList&&function(h){var e=h.document,t=h.Object,n=t.prototype.hasOwnProperty,d=t.defineProperty,a=0,m=0,c=function(){if(!a)throw TypeError("Illegal constructor")};function f(){var t=h.event,e=t.propertyName;if(!m&&("className"===e||"classList"===e&&!d)){var n=t.srcElement,r=n[" uCLp"],o=""+n[e],i=o.trim().split(v),a=n["classList"===e?" uCL":"classList"],c=r.length;t:for(var s=0,u=r.length=i.length,l=0;s!==u;++s){for(var f=0;f!==s;++f)if(i[f]===i[s]){l++;continue t}a[s-l]=i[s]}for(var p=u-l;p<c;++p)delete a[p];if("classList"!==e)return;m=1,n.classList=a,n.className=o,m=0,a.length=i.length-l}}function r(s){if(!(s&&"innerHTML"in s))throw TypeError("Illegal invocation");s.detachEvent("onpropertychange",f),a=1;try{var t=function(){};t.prototype=new c}finally{a=0}var u=t.prototype,l=new t;t:for(var e=s.className.trim().split(v),n=0,r=e.length,o=0;n!==r;++n){for(var i=0;i!==n;++i)if(e[i]===e[n]){o++;continue t}this[n-o]=e[n]}u.length=r-o,u.value=s.className,u[" uCL"]=s,d?(d(s,"classList",{enumerable:1,get:function(){return l},configurable:0,set:function(t){m=1,s.className=u.value=t+="",m=0;var e=t.trim().split(v),n=u.length;t:for(var r=0,o=u.length=e.length,i=0;r!==o;++r){for(var a=0;a!==r;++a)if(e[a]===e[r]){i++;continue t}l[r-i]=e[r]}for(var c=o-i;c<n;++c)delete l[c]}}),d(s," uCLp",{enumerable:0,configurable:0,writeable:0,value:t.prototype}),d(u," uCL",{enumerable:0,configurable:0,writeable:0,value:s})):(s.classList=l,s[" uCL"]=l,s[" uCLp"]=t.prototype),s.attachEvent("onpropertychange",f)}c.prototype.toString=c.prototype.toLocaleString=function(){return this.value},c.prototype.add=function(){t:for(var t=0,e=arguments.length,n="",r=this[" uCL"],o=r[" uCLp"];t!==e;++t){u("add",n=arguments[t]+"");for(var i=0,a=o.length,c=n;i!==a;++i){if(this[i]===n)continue t;c+=" "+this[i]}this[a]=n,o.length+=1,o.value=c}m=1,r.className=o.value,m=0},c.prototype.remove=function(){for(var t=0,e=arguments.length,n="",r=this[" uCL"],o=r[" uCLp"];t!==e;++t){u("remove",n=arguments[t]+"");for(var i=0,a=o.length,c="",s=0;i!==a;++i)s?this[i-1]=this[i]:this[i]!==n?c+=this[i]+" ":s=1;s&&(delete this[a],--o.length,o.value=c)}m=1,r.className=o.value,m=0},h.DOMTokenList=c;try{h.Object.defineProperty(h.Element.prototype,"classList",{enumerable:1,get:function(t){return n.call(this,"classList")||r(this),this.classList},configurable:0,set:function(t){this.className=t}})}catch(t){h[" uCL"]=r,e.documentElement.firstChild.appendChild(e.createElement("style")).styleSheet.cssText='_*{x-uCLp:expression(!this.hasOwnProperty("classList")&&window[" uCL"](this))}[class]{x-uCLp/**/:expression(!this.hasOwnProperty("classList")&&window[" uCL"](this))}'}}(t),e=t.DOMTokenList.prototype,n=t.document.createElement("div").classList,e.item||(e.item=function(t){return void 0===(e=this[t])?null:e;var e}),e.toggle&&!1===n.toggle("a",0)||(e.toggle=function(t){if(1<arguments.length)return this[arguments[1]?"add":"remove"](t),!!arguments[1];var e=this.value;return this.remove(e),e===this.value&&(this.add(t),!0)}),e.replace&&"boolean"==typeof n.replace("a","b")||(e.replace=function(t,e){u("replace",t),u("replace",e);var n=this.value;return this.remove(t),this.value!==n&&(this.add(e),!0)}),e.contains||(e.contains=function(t){for(var e=0,n=this.length;e!==n;++e)if(this[e]===t)return!0;return!1}),e.forEach||(e.forEach=function(t){if(1===arguments.length)for(var e=0,n=this.length;e!==n;++e)t(this[e],e,this);else{e=0,n=this.length;for(var r=arguments[1];e!==n;++e)t.call(r,this[e],e,this)}}),e.entries||(e.entries=function(){var t=this;return{next:function(){return 0<t.length?{value:[0,t[0]],done:!1}:{done:!0}}}}),e.values||(e.values=function(){var t=this;return{next:function(){return 0<t.length?{value:t[0],done:!1}:{done:!0}}}}),e.keys||(e.keys=function(){var t=this;return{next:function(){return 0<t.length?{value:0,done:!1}:{done:!0}}}})}(window);var Ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ie(t,e){return t(e={exports:{}},e.exports),e.exports}function ze(t){return t&&t.Math==Math&&t}function Be(t){try{return!!t()}catch(t){return!0}}function Ue(t){return"object"==typeof t?null!==t:"function"==typeof t}function He(t){return Ze?$e.createElement(t):{}}function qe(t){if(!Ue(t))throw TypeError(String(t)+" is not an object");return t}function We(t,e){if(!Ue(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!Ue(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!Ue(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!Ue(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function Ge(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function Ve(e,n){try{rn(Je,e,n)}catch(t){Je[e]=n}return n}function Ke(t,e){return sn.call(t,e)}function Ye(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++un+ln).toString(36)}function Xe(t){return Ke(hn,t)||(fn&&Ke(dn,t)?hn[t]=dn[t]:hn[t]=mn("Symbol."+t)),hn[t]}var Je=ze("object"==typeof globalThis&&globalThis)||ze("object"==typeof window&&window)||ze("object"==typeof self&&self)||ze("object"==typeof Ne&&Ne)||Function("return this")(),Qe=!Be(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),$e=Je.document,Ze=Ue($e)&&Ue($e.createElement),tn=!Qe&&!Be(function(){return 7!=Object.defineProperty(He("div"),"a",{get:function(){return 7}}).a}),en=Object.defineProperty,nn={f:Qe?en:function(t,e,n){if(qe(t),e=We(e,!0),qe(n),tn)try{return en(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},rn=Qe?function(t,e,n){return nn.f(t,e,Ge(1,n))}:function(t,e,n){return t[e]=n,t},on="__core-js_shared__",an=Je[on]||Ve(on,{}),cn=Ie(function(t){(t.exports=function(t,e){return an[t]||(an[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.5.0",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),sn={}.hasOwnProperty,un=0,ln=Math.random(),fn=!!Object.getOwnPropertySymbols&&!Be(function(){return!String(Symbol())}),pn=fn&&!Symbol.sham&&"symbol"==typeof Symbol(),hn=cn("wks"),dn=Je.Symbol,mn=pn?dn:Ye,vn={};vn[Xe("toStringTag")]="z";var yn="[object z]"===String(vn),gn=Function.toString;"function"!=typeof an.inspectSource&&(an.inspectSource=function(t){return gn.call(t)});function bn(t){return jn[t]||(jn[t]=Ye(t))}var wn,En,Cn,xn=an.inspectSource,On=Je.WeakMap,Sn="function"==typeof On&&/native code/.test(xn(On)),jn=cn("keys"),An={},Dn=Je.WeakMap;if(Sn){var _n=new Dn,Pn=_n.get,Ln=_n.has,Fn=_n.set;wn=function(t,e){return Fn.call(_n,t,e),e},En=function(t){return Pn.call(_n,t)||{}},Cn=function(t){return Ln.call(_n,t)}}else{var Tn=bn("state");An[Tn]=!0,wn=function(t,e){return rn(t,Tn,e),e},En=function(t){return Ke(t,Tn)?t[Tn]:{}},Cn=function(t){return Ke(t,Tn)}}function Mn(t){return Nn.call(t).slice(8,-1)}var kn={set:wn,get:En,has:Cn,enforce:function(t){return Cn(t)?En(t):wn(t,{})},getterFor:function(n){return function(t){var e;if(!Ue(t)||(e=En(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},Rn=Ie(function(t){var e=kn.get,c=kn.enforce,s=String(String).split("String");(t.exports=function(t,e,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||Ke(n,"name")||rn(n,"name",e),c(n).source=s.join("string"==typeof e?e:"")),t!==Je?(o?!a&&t[e]&&(i=!0):delete t[e],i?t[e]=n:rn(t,e,n)):i?t[e]=n:Ve(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||xn(this)})}),Nn={}.toString,In=Xe("toStringTag"),zn="Arguments"==Mn(function(){return arguments}()),Bn=yn?Mn:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),In))?n:zn?Mn(e):"Object"==(r=Mn(e))&&"function"==typeof e.callee?"Arguments":r},Un=yn?{}.toString:function(){return"[object "+Bn(this)+"]"};yn||Rn(Object.prototype,"toString",Un,{unsafe:!0});function Hn(t){return isNaN(t=+t)?0:(0<t?ir:or)(t)}function qn(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function Wn(c){return function(t,e){var n,r,o=String(qn(t)),i=Hn(e),a=o.length;return i<0||a<=i?c?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?c?o.charAt(i):n:c?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}function Gn(t){return fr(qn(t))}function Vn(t){return"function"==typeof t?t:void 0}function Kn(t,e){return arguments.length<2?Vn(dr[t])||Vn(Je[t]):dr[t]&&dr[t][e]||Je[t]&&Je[t][e]}function Yn(t){return 0<t?mr(Hn(t),9007199254740991):0}function Xn(u){return function(t,e,n){var r,o,i,a=Gn(t),c=Yn(a.length),s=(r=c,(o=Hn(n))<0?vr(o+r,0):yr(o,r));if(u&&e!=e){for(;s<c;)if((i=a[s++])!=i)return!0}else for(;s<c;s++)if((u||s in a)&&a[s]===e)return u||s||0;return!u&&-1}}function Jn(t,e){var n,r=Gn(t),o=0,i=[];for(n in r)!Ke(An,n)&&Ke(r,n)&&i.push(n);for(;e.length>o;)Ke(r,n=e[o++])&&(~gr(i,n)||i.push(n));return i}function Qn(t,e){for(var n=xr(e),r=nn.f,o=hr.f,i=0;i<n.length;i++){var a=n[i];Ke(t,a)||r(t,a,o(e,a))}}function $n(t,e){var n=jr[Sr(t)];return n==Dr||n!=Ar&&("function"==typeof e?Be(e):!!e)}function Zn(t,e){var n,r,o,i,a,c=t.target,s=t.global,u=t.stat;if(n=s?Je:u?Je[c]||Ve(c,{}):(Je[c]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(a=Pr(n,r))&&a.value:n[r],!_r(s?r:c+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Qn(i,o)}(t.sham||o&&o.sham)&&rn(i,"sham",!0),Rn(n,r,i,t)}}function tr(t){return Object(qn(t))}var er,nr,rr,or=Math.ceil,ir=Math.floor,ar={codeAt:Wn(!1),charAt:Wn(!0)},cr={}.propertyIsEnumerable,sr=Object.getOwnPropertyDescriptor,ur={f:sr&&!cr.call({1:2},1)?function(t){var e=sr(this,t);return!!e&&e.enumerable}:cr},lr="".split,fr=Be(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==Mn(t)?lr.call(t,""):Object(t)}:Object,pr=Object.getOwnPropertyDescriptor,hr={f:Qe?pr:function(t,e){if(t=Gn(t),e=We(e,!0),tn)try{return pr(t,e)}catch(t){}if(Ke(t,e))return Ge(!ur.f.call(t,e),t[e])}},dr=Je,mr=Math.min,vr=Math.max,yr=Math.min,gr={includes:Xn(!0),indexOf:Xn(!1)}.indexOf,br=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],wr=br.concat("length","prototype"),Er={f:Object.getOwnPropertyNames||function(t){return Jn(t,wr)}},Cr={f:Object.getOwnPropertySymbols},xr=Kn("Reflect","ownKeys")||function(t){var e=Er.f(qe(t)),n=Cr.f;return n?e.concat(n(t)):e},Or=/#|\.prototype\./,Sr=$n.normalize=function(t){return String(t).replace(Or,".").toLowerCase()},jr=$n.data={},Ar=$n.NATIVE="N",Dr=$n.POLYFILL="P",_r=$n,Pr=hr.f,Lr=!Be(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Fr=bn("IE_PROTO"),Tr=Object.prototype,Mr=Lr?Object.getPrototypeOf:function(t){return t=tr(t),Ke(t,Fr)?t[Fr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Tr:null},kr=Xe("iterator"),Rr=!1;[].keys&&("next"in(rr=[].keys())?(nr=Mr(Mr(rr)))!==Object.prototype&&(er=nr):Rr=!0),null==er&&(er={}),Ke(er,kr)||rn(er,kr,function(){return this});function Nr(){}var Ir={IteratorPrototype:er,BUGGY_SAFARI_ITERATORS:Rr},zr=Object.keys||function(t){return Jn(t,br)},Br=Qe?Object.defineProperties:function(t,e){qe(t);for(var n,r=zr(e),o=r.length,i=0;i<o;)nn.f(t,n=r[i++],e[n]);return t},Ur=Kn("document","documentElement"),Hr=bn("IE_PROTO"),qr="prototype",Wr=function(){var t,e=He("iframe"),n=br.length,r="script";for(e.style.display="none",Ur.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object</"+r+">"),t.close(),Wr=t.F;n--;)delete Wr[qr][br[n]];return Wr()},Gr=Object.create||function(t,e){var n;return null!==t?(Nr[qr]=qe(t),n=new Nr,Nr[qr]=null,n[Hr]=t):n=Wr(),void 0===e?n:Br(n,e)};An[Hr]=!0;function Vr(t,e,n){t&&!Ke(t=n?t:t.prototype,Qr)&&Jr(t,Qr,{configurable:!0,value:e})}function Kr(){return this}function Yr(){return this}function Xr(t,e,n,r,o,i,a){var c,s,u;function l(t){if(t===o&&g)return g;if(!no&&t in v)return v[t];switch(t){case"keys":case oo:case io:return function(){return new n(this,t)}}return function(){return new n(this)}}s=r,u=e+" Iterator",(c=n).prototype=Gr(Zr,{next:Ge(1,s)}),Vr(c,u,!1),$r[u]=Kr;var f,p,h,d=e+" Iterator",m=!1,v=t.prototype,y=v[ro]||v["@@iterator"]||o&&v[o],g=!no&&y||l(o),b="Array"==e&&v.entries||y;if(b&&(f=Mr(b.call(new t)),eo!==Object.prototype&&f.next&&(Mr(f)!==eo&&(to?to(f,eo):"function"!=typeof f[ro]&&rn(f,ro,Yr)),Vr(f,d,!0))),o==oo&&y&&y.name!==oo&&(m=!0,g=function(){return y.call(this)}),v[ro]!==g&&rn(v,ro,g),$r[e]=g,o)if(p={values:l(oo),keys:i?g:l("keys"),entries:l(io)},a)for(h in p)!no&&!m&&h in v||Rn(v,h,p[h]);else Zn({target:e,proto:!0,forced:no||m},p);return p}var Jr=nn.f,Qr=Xe("toStringTag"),$r={},Zr=Ir.IteratorPrototype,to=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return qe(t),function(t){if(!Ue(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(e),r?n.call(t,e):t.__proto__=e,t}}():void 0),eo=Ir.IteratorPrototype,no=Ir.BUGGY_SAFARI_ITERATORS,ro=Xe("iterator"),oo="values",io="entries",ao=ar.charAt,co="String Iterator",so=kn.set,uo=kn.getterFor(co);Xr(String,"String",function(t){so(this,{type:co,string:String(t),index:0})},function(){var t,e=uo(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=ao(n,r),e.index+=t.length,{value:t,done:!1})});var lo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},fo=Xe("unscopables"),po=Array.prototype;null==po[fo]&&rn(po,fo,Gr(null));function ho(t){po[fo][t]=!0}var mo="Array Iterator",vo=kn.set,yo=kn.getterFor(mo),go=Xr(Array,"Array",function(t,e){vo(this,{type:mo,target:Gn(t),index:0,kind:e})},function(){var t=yo(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");$r.Arguments=$r.Array,ho("keys"),ho("values"),ho("entries");var bo=Xe("iterator"),wo=Xe("toStringTag"),Eo=go.values;for(var Co in lo){var xo=Je[Co],Oo=xo&&xo.prototype;if(Oo){if(Oo[bo]!==Eo)try{rn(Oo,bo,Eo)}catch(t){Oo[bo]=Eo}if(Oo[wo]||rn(Oo,wo,Co),lo[Co])for(var So in go)if(Oo[So]!==go[So])try{rn(Oo,So,go[So])}catch(t){Oo[So]=go[So]}}}function jo(t,e,n){for(var r in e)Rn(t,r,e[r],n);return t}function Ao(t){var e=Kn(t),n=nn.f;Qe&&e&&!e[Ho]&&n(e,Ho,{configurable:!0,get:function(){return this}})}function Do(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function _o(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}function Po(r,o,t){if(Do(r),void 0===o)return r;switch(t){case 0:return function(){return r.call(o)};case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}function Lo(e,t,n,r){try{return r?t(qe(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&qe(o.call(e)),t}}function Fo(t,e){if(!e)return!1;var n=!1;try{var r={};r[Ko]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}function To(t,e){var n,r=qe(t).constructor;return void 0===r||null==(n=qe(r)[Yo])?e:Do(n)}function Mo(t){if(oi.hasOwnProperty(t)){var e=oi[t];delete oi[t],e()}}function ko(t){return function(){Mo(t)}}function Ro(t){Mo(t.data)}function No(t){Je.postMessage(t+"",Qo.protocol+"//"+Qo.host)}var Io,zo,Bo,Uo=Je.Promise,Ho=Xe("species"),qo=Xe("iterator"),Wo=Array.prototype,Go=Xe("iterator"),Vo=Ie(function(t){function d(t,e){this.stopped=t,this.result=e}(t.exports=function(t,e,n,r,o){var i,a,c,s,u,l,f,p,h=Po(e,n,r?2:1);if(o)i=t;else{if("function"!=typeof(a=function(t){if(null!=t)return t[Go]||t["@@iterator"]||$r[Bn(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(p=a)&&($r.Array===p||Wo[qo]===p)){for(c=0,s=Yn(t.length);c<s;c++)if((u=r?h(qe(f=t[c])[0],f[1]):h(t[c]))&&u instanceof d)return u;return new d(!1)}i=a.call(t)}for(l=i.next;!(f=l.call(i)).done;)if("object"==typeof(u=Lo(i,h,f.value,r))&&u&&u instanceof d)return u;return new d(!1)}).stop=function(t){return new d(!0,t)}}),Ko=Xe("iterator"),Yo=Xe("species"),Xo=Kn("navigator","userAgent")||"",Jo=/(iphone|ipod|ipad).*applewebkit/i.test(Xo),Qo=Je.location,$o=Je.setImmediate,Zo=Je.clearImmediate,ti=Je.process,ei=Je.MessageChannel,ni=Je.Dispatch,ri=0,oi={},ii="onreadystatechange";$o&&Zo||($o=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return oi[++ri]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Io(ri),ri},Zo=function(t){delete oi[t]},"process"==Mn(ti)?Io=function(t){ti.nextTick(ko(t))}:ni&&ni.now?Io=function(t){ni.now(ko(t))}:ei&&!Jo?(Bo=(zo=new ei).port2,zo.port1.onmessage=Ro,Io=Po(Bo.postMessage,Bo,1)):!Je.addEventListener||"function"!=typeof postMessage||Je.importScripts||Be(No)?Io=ii in He("script")?function(t){Ur.appendChild(He("script"))[ii]=function(){Ur.removeChild(this),Mo(t)}}:function(t){setTimeout(ko(t),0)}:(Io=No,Je.addEventListener("message",Ro,!1)));var ai,ci,si,ui,li,fi,pi,hi,di={set:$o,clear:Zo},mi=hr.f,vi=di.set,yi=Je.MutationObserver||Je.WebKitMutationObserver,gi=Je.process,bi=Je.Promise,wi="process"==Mn(gi),Ei=mi(Je,"queueMicrotask"),Ci=Ei&&Ei.value;Ci||(ai=function(){var t,e;for(wi&&(t=gi.domain)&&t.exit();ci;){e=ci.fn,ci=ci.next;try{e()}catch(t){throw ci?ui():si=void 0,t}}si=void 0,t&&t.enter()},ui=wi?function(){gi.nextTick(ai)}:yi&&!Jo?(li=!0,fi=document.createTextNode(""),new yi(ai).observe(fi,{characterData:!0}),function(){fi.data=li=!li}):bi&&bi.resolve?(pi=bi.resolve(void 0),hi=pi.then,function(){hi.call(pi,ai)}):function(){vi.call(Je,ai)});function xi(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=Do(n),this.reject=Do(r)}function Oi(t,e){if(qe(t),Ue(e)&&e.constructor===t)return e;var n=_i.f(t);return(0,n.resolve)(e),n.promise}function Si(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}var ji,Ai,Di=Ci||function(t){var e={fn:t,next:void 0};si&&(si.next=e),ci||(ci=e,ui()),si=e},_i={f:function(t){return new xi(t)}},Pi=Je.process,Li=Pi&&Pi.versions,Fi=Li&&Li.v8;Fi?Ai=(ji=Fi.split("."))[0]+ji[1]:Xo&&(!(ji=Xo.match(/Edge\/(\d+)/))||74<=ji[1])&&(ji=Xo.match(/Chrome\/(\d+)/))&&(Ai=ji[1]);function Ti(t){var e;return!(!Ue(t)||"function"!=typeof(e=t.then))&&e}function Mi(f,p,h){if(!p.notified){p.notified=!0;var d=p.reactions;Di(function(){for(var t=p.value,e=1==p.state,n=0;d.length>n;){var r,o,i,a=d[n++],c=e?a.ok:a.fail,s=a.resolve,u=a.reject,l=a.domain;try{c?(e||(2===p.rejection&&ua(f,p),p.rejection=1),!0===c?r=t:(l&&l.enter(),r=c(t),l&&(l.exit(),i=!0)),r===a.promise?u(Ji("Promise-chain cycle")):(o=Ti(r))?o.call(r,s,u):s(r)):u(t)}catch(t){l&&!i&&l.exit(),u(t)}}p.reactions=[],p.notified=!1,h&&!p.rejection&&ca(f,p)})}}function ki(t,e,n){var r,o;ra?((r=Qi.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),Je.dispatchEvent(r)):r={promise:e,reason:n},(o=Je["on"+t])?o(r):t===oa&&function(t,e){var n=Je.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)}function Ri(e,n,r,o){return function(t){e(n,r,t,o)}}function Ni(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Mi(t,e,!0))}var Ii,zi,Bi,Ui,Hi=Ai&&+Ai,qi=di.set,Wi=Xe("species"),Gi="Promise",Vi=kn.get,Ki=kn.set,Yi=kn.getterFor(Gi),Xi=Uo,Ji=Je.TypeError,Qi=Je.document,$i=Je.process,Zi=Kn("fetch"),ta=_i.f,ea=ta,na="process"==Mn($i),ra=!!(Qi&&Qi.createEvent&&Je.dispatchEvent),oa="unhandledrejection",ia=_r(Gi,function(){if(!(xn(Xi)!==String(Xi))){if(66===Hi)return!0;if(!na&&"function"!=typeof PromiseRejectionEvent)return!0}if(51<=Hi&&/native code/.test(Xi))return!1;function t(t){t(function(){},function(){})}var e=Xi.resolve(1);return(e.constructor={})[Wi]=t,!(e.then(function(){})instanceof t)}),aa=ia||!Fo(function(t){Xi.all(t).catch(function(){})}),ca=function(n,r){qi.call(Je,function(){var t,e=r.value;if(sa(r)&&(t=Si(function(){na?$i.emit("unhandledRejection",e,n):ki(oa,n,e)}),r.rejection=na||sa(r)?2:1,t.error))throw t.value})},sa=function(t){return 1!==t.rejection&&!t.parent},ua=function(t,e){qi.call(Je,function(){na?$i.emit("rejectionHandled",t):ki("rejectionhandled",t,e.value)})},la=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw Ji("Promise can't be resolved itself");var o=Ti(t);o?Di(function(){var e={done:!1};try{o.call(t,Ri(la,n,e,r),Ri(Ni,n,e,r))}catch(t){Ni(n,e,t,r)}}):(r.value=t,r.state=1,Mi(n,r,!1))}catch(t){Ni(n,{done:!1},t,r)}}};ia&&(Xi=function(t){_o(this,Xi,Gi),Do(t),Ii.call(this);var e=Vi(this);try{t(Ri(la,this,e),Ri(Ni,this,e))}catch(t){Ni(this,e,t)}},(Ii=function(){Ki(this,{type:Gi,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=jo(Xi.prototype,{then:function(t,e){var n=Yi(this),r=ta(To(this,Xi));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=na?$i.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Mi(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),zi=function(){var t=new Ii,e=Vi(t);this.promise=t,this.resolve=Ri(la,t,e),this.reject=Ri(Ni,t,e)},_i.f=ta=function(t){return t===Xi||t===Bi?new zi(t):ea(t)},"function"==typeof Uo&&(Ui=Uo.prototype.then,Rn(Uo.prototype,"then",function(t,e){var n=this;return new Xi(function(t,e){Ui.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof Zi&&Zn({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Oi(Xi,Zi.apply(Je,arguments))}}))),Zn({global:!0,wrap:!0,forced:ia},{Promise:Xi}),Vr(Xi,Gi,!1),Ao(Gi),Bi=Kn(Gi),Zn({target:Gi,stat:!0,forced:ia},{reject:function(t){var e=ta(this);return e.reject.call(void 0,t),e.promise}}),Zn({target:Gi,stat:!0,forced:ia},{resolve:function(t){return Oi(this,t)}}),Zn({target:Gi,stat:!0,forced:aa},{all:function(t){var c=this,e=ta(c),s=e.resolve,u=e.reject,n=Si(function(){var r=Do(c.resolve),o=[],i=0,a=1;Vo(t,function(t){var e=i++,n=!1;o.push(void 0),a++,r.call(c,t).then(function(t){n||(n=!0,o[e]=t,--a||s(o))},u)}),--a||s(o)});return n.error&&u(n.value),e.promise},race:function(t){var n=this,r=ta(n),o=r.reject,e=Si(function(){var e=Do(n.resolve);Vo(t,function(t){e.call(n,t).then(r.resolve,o)})});return e.error&&o(e.value),r.promise}}),Zn({target:"Promise",stat:!0},{allSettled:function(t){var c=this,e=_i.f(c),s=e.resolve,n=e.reject,r=Si(function(){var r=Do(c.resolve),o=[],i=0,a=1;Vo(t,function(t){var e=i++,n=!1;o.push(void 0),a++,r.call(c,t).then(function(t){n||(n=!0,o[e]={status:"fulfilled",value:t},--a||s(o))},function(t){n||(n=!0,o[e]={status:"rejected",reason:t},--a||s(o))})}),--a||s(o)});return r.error&&n(r.value),e.promise}});var fa=!!Uo&&Be(function(){Uo.prototype.finally.call({then:function(){}},function(){})});Zn({target:"Promise",proto:!0,real:!0,forced:fa},{finally:function(e){var n=To(this,Kn("Promise")),t="function"==typeof e;return this.then(t?function(t){return Oi(n,e()).then(function(){return t})}:e,t?function(t){return Oi(n,e()).then(function(){throw t})}:e)}}),"function"!=typeof Uo||Uo.prototype.finally||Rn(Uo.prototype,"finally",Kn("Promise").prototype.finally);dr.Promise;var pa=Be(function(){zr(1)});Zn({target:"Object",stat:!0,forced:pa},{keys:function(t){return zr(tr(t))}});function ha(t,e){var n=[][t];return!n||!Be(function(){n.call(null,e||function(){throw 1},1)})}dr.Object.keys;var da=[].join,ma=fr!=Object,va=ha("join",",");Zn({target:"Array",proto:!0,forced:ma||va},{join:function(t){return da.call(Gn(this),void 0===t?",":t)}});function ya(t,e,n){return Po(wa,Je[t].prototype[e],n)}function ga(t,e){var n;return Ea(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Ea(n.prototype)?Ue(n)&&null===(n=n[Ca])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function ba(h){var d=1==h,m=2==h,v=3==h,y=4==h,g=6==h,b=5==h||g;return function(t,e,n,r){for(var o,i,a=tr(t),c=fr(a),s=Po(e,n,3),u=Yn(c.length),l=0,f=r||ga,p=d?f(t,u):m?f(t,0):void 0;l<u;l++)if((b||l in c)&&(i=s(o=c[l],l,a),h))if(d)p[l]=i;else if(i)switch(h){case 3:return!0;case 5:return o;case 6:return l;case 2:xa.call(p,o)}else if(y)return!1;return g?-1:v||y?y:p}}var wa=Function.call,Ea=(ya("Array","join"),Array.isArray||function(t){return"Array"==Mn(t)}),Ca=Xe("species"),xa=[].push,Oa={forEach:ba(0),map:ba(1),filter:ba(2),some:ba(3),every:ba(4),find:ba(5),findIndex:ba(6)}.forEach,Sa=ha("forEach")?function(t,e){return Oa(this,t,1<arguments.length?e:void 0)}:[].forEach;Zn({target:"Array",proto:!0,forced:[].forEach!=Sa},{forEach:Sa});ya("Array","forEach");function ja(t){if(Ue(e=t)&&(void 0!==(n=e[ka])?n:"RegExp"==Mn(e)))throw TypeError("The method doesn't accept regular expressions");var e,n;return t}function Aa(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[Ra]=!1,"/./"[e](n)}catch(t){}}return!1}var Da,_a=!Be(function(){return Object.isExtensible(Object.preventExtensions({}))}),Pa=Ie(function(t){function n(t){e(t,r,{value:{objectID:"O"+ ++o,weakData:{}}})}var e=nn.f,r=Ye("meta"),o=0,i=Object.isExtensible||function(){return!0},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!Ue(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Ke(t,r)){if(!i(t))return"F";if(!e)return"E";n(t)}return t[r].objectID},getWeakData:function(t,e){if(!Ke(t,r)){if(!i(t))return!0;if(!e)return!1;n(t)}return t[r].weakData},onFreeze:function(t){return _a&&a.REQUIRED&&i(t)&&!Ke(t,r)&&n(t),t}};An[r]=!0}),La=(Pa.REQUIRED,Pa.fastKey,Pa.getWeakData,Pa.onFreeze,nn.f),Fa=Pa.fastKey,Ta=kn.set,Ma=kn.getterFor,ka=(function(s,t,e){function n(t){var n=o[t];Rn(o,t,"add"==t?function(t){return n.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(r&&!Ue(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return r&&!Ue(t)?void 0:n.call(this,0===t?0:t)}:"has"==t?function(t){return!(r&&!Ue(t))&&n.call(this,0===t?0:t)}:function(t,e){return n.call(this,0===t?0:t,e),this})}var u=-1!==s.indexOf("Map"),r=-1!==s.indexOf("Weak"),l=u?"set":"add",f=Je[s],o=f&&f.prototype,p=f,i={};if(_r(s,"function"!=typeof f||!(r||o.forEach&&!Be(function(){(new f).entries().next()}))))p=e.getConstructor(t,s,u,l),Pa.REQUIRED=!0;else if(_r(s,!0)){var a=new p,c=a[l](r?{}:-0,1)!=a,h=Be(function(){a.has(1)}),d=Fo(function(t){new f(t)}),m=!r&&Be(function(){for(var t=new f,e=5;e--;)t[l](e,e);return!t.has(-0)});d||(((p=t(function(t,e){_o(t,p,s);var n,r,o,i,a,c=(n=new f,r=t,o=p,to&&"function"==typeof(i=r.constructor)&&i!==o&&Ue(a=i.prototype)&&a!==o.prototype&&to(n,a),n);return null!=e&&Vo(e,c[l],c,u),c})).prototype=o).constructor=p),(h||m)&&(n("delete"),n("has"),u&&n("get")),(m||c)&&n(l),r&&o.clear&&delete o.clear}i[s]=p,Zn({global:!0,forced:p!=f},i),Vr(p,s),r||e.setStrong(p,s,u)}("Map",function(e){return function(t){return e(this,arguments.length?t:void 0)}},{getConstructor:function(t,n,r,o){function i(t,e,n){var r,o,i=c(t),a=s(t,e);return a?a.value=n:(i.last=a={index:o=Fa(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),Qe?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t}var a=t(function(t,e){_o(t,a,n),Ta(t,{type:n,index:Gr(null),first:void 0,last:void 0,size:0}),Qe||(t.size=0),null!=e&&Vo(e,t[o],t,r)}),c=Ma(n),s=function(t,e){var n,r=c(t),o=Fa(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return jo(a.prototype,{clear:function(){for(var t=c(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,Qe?t.size=0:this.size=0},delete:function(t){var e=c(this),n=s(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),Qe?e.size--:this.size--}return!!n},forEach:function(t,e){for(var n,r=c(this),o=Po(t,1<arguments.length?e:void 0,3);n=n?n.next:r.first;)for(o(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!s(this,t)}}),jo(a.prototype,r?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return i(this,0===t?0:t,e)}}:{add:function(t){return i(this,t=0===t?0:t,t)}}),Qe&&La(a.prototype,"size",{get:function(){return c(this).size}}),a},setStrong:function(t,e,n){var r=e+" Iterator",o=Ma(e),i=Ma(r);Xr(t,e,function(t,e){Ta(this,{type:r,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),Ao(e)}}),dr.Map,Xe("match")),Ra=Xe("match"),Na=hr.f,Ia="".startsWith,za=Math.min,Ba=Aa("startsWith"),Ua=!(Ba||(!(Da=Na(String.prototype,"startsWith"))||Da.writable));Zn({target:"String",proto:!0,forced:!Ua&&!Ba},{startsWith:function(t,e){var n=String(qn(this));ja(t);var r=Yn(za(1<arguments.length?e:void 0,n.length)),o=String(t);return Ia?Ia.call(n,o,r):n.slice(r,r+o.length)===o}});ya("String","startsWith");var Ha,qa=hr.f,Wa="".endsWith,Ga=Math.min,Va=Aa("endsWith"),Ka=!(Va||(!(Ha=qa(String.prototype,"endsWith"))||Ha.writable));Zn({target:"String",proto:!0,forced:!Ka&&!Va},{endsWith:function(t,e){var n=String(qn(this));ja(t);var r=1<arguments.length?e:void 0,o=Yn(n.length),i=void 0===r?o:Ga(Yn(r),o),a=String(t);return Wa?Wa.call(n,a,i):n.slice(i-a.length,i)===a}});ya("String","endsWith"),Ie(function(L){!function(t){var s,e=Object.prototype,u=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag",a=t.regeneratorRuntime;if(a)L.exports=a;else{(a=t.regeneratorRuntime=L.exports).wrap=g;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",m={},c={};c[o]=function(){return this};var l=Object.getPrototypeOf,v=l&&l(l(_([])));v&&v!==e&&u.call(v,o)&&(c=v);var y=C.prototype=w.prototype=Object.create(c);E.prototype=y.constructor=C,C.constructor=E,C[i]=E.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(y),t},a.awrap=function(t){return{__await:t}},x(O.prototype),O.prototype[r]=function(){return this},a.AsyncIterator=O,a.async=function(t,e,n,r){var o=new O(g(t,e,n,r));return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(y),y[i]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},a.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=_,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=s)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=s),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=u.call(o,"catchLoc"),c=u.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=s),m}}}function g(t,e,n,r){var i,a,c,s,o=e&&e.prototype instanceof w?e:w,u=Object.create(o.prototype),l=new D(r||[]);return u._invoke=(i=t,a=n,c=l,s=f,function(t,e){if(s===h)throw new Error("Generator is already running");if(s===d){if("throw"===t)throw e;return P()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=S(n,c);if(r){if(r===m)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===f)throw s=d,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=h;var o=b(i,a,c);if("normal"===o.type){if(s=c.done?d:p,o.arg===m)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s=d,c.method="throw",c.arg=o.arg)}}),u}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function w(){}function E(){}function C(){}function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function O(s){var e;this._invoke=function(n,r){function t(){return new Promise(function(t,e){!function e(t,n,r,o){var i=b(s[t],s,n);if("throw"!==i.type){var a=i.arg,c=a.value;return c&&"object"==typeof c&&u.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):Promise.resolve(c).then(function(t){a.value=t,r(a)},o)}o(i.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function S(t,e){var n=t.iterator[e.method];if(n===s){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=s,S(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=b(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,m;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=s),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=s,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:s,done:!0}}}(function(){return this}()||Function("return this")())});var Ya=function(t,e){return(Ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Xa(t,e){function n(){this.constructor=t}Ya(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ja=function(){return(Ja=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Qa(n,r){var o,i,a,t,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=2&e[0]?i.return:e[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,e[1])).done)return a;switch(i=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,i=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){c=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){c.label=e[1];break}if(6===e[0]&&c.label<a[1]){c.label=a[1],a=e;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(e);break}a[2]&&c.ops.pop(),c.trys.pop();continue}e=r.call(n,c)}catch(t){e=[6,t],i=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var $a;($a=o.ApiMode||(o.ApiMode={})).LIVE="live",$a.TEST="test";var Za=(Object.defineProperty(tc.prototype,"apiRoot",{get:function(){return this.options.apiRoot[this.options.mode].trim()},enumerable:!0,configurable:!0}),Object.defineProperty(tc.prototype,"mode",{get:function(){return this.options.mode},enumerable:!0,configurable:!0}),Object.defineProperty(tc.prototype,"logger",{get:function(){return this.options.logger},enumerable:!0,configurable:!0}),tc.prototype.urlFor=function(t){return(this.apiRoot.endsWith("/")?this.apiRoot.slice(0,-1):this.apiRoot)+"/"+(t=t.startsWith("/")?t.slice(1):t)},tc.prototype.addUserAgentComponent=function(t,e){e?this.userAgentComponents.push(t+"/"+e):this.userAgentComponents.push(t)},Object.defineProperty(tc.prototype,"userAgentString",{get:function(){return this.userAgentComponents.reverse().join("; ")},enumerable:!0,configurable:!0}),tc);function tc(t,e){this.userAgentComponents=[],this.credentials=t,this.options=e}function ec(n,r){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return n.apply(r,t)}}var nc=Object.prototype.toString;function rc(t){return"[object Array]"===nc.call(t)}function oc(t){return null!==t&&"object"==typeof t}function ic(t){return"[object Function]"===nc.call(t)}function ac(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),rc(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var cc={isArray:rc,isArrayBuffer:function(t){return"[object ArrayBuffer]"===nc.call(t)},isBuffer:function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:oc,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===nc.call(t)},isFile:function(t){return"[object File]"===nc.call(t)},isBlob:function(t){return"[object Blob]"===nc.call(t)},isFunction:ic,isStream:function(t){return oc(t)&&ic(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:ac,merge:function n(){var r={};function t(t,e){"object"==typeof r[e]&&"object"==typeof t?r[e]=n(r[e],t):r[e]=t}for(var e=0,o=arguments.length;e<o;e++)ac(arguments[e],t);return r},deepMerge:function n(){var r={};function t(t,e){"object"==typeof r[e]&&"object"==typeof t?r[e]=n(r[e],t):r[e]="object"==typeof t?n({},t):t}for(var e=0,o=arguments.length;e<o;e++)ac(arguments[e],t);return r},extend:function(n,t,r){return ac(t,function(t,e){n[e]=r&&"function"==typeof t?ec(t,r):t}),n},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function sc(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uc(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(cc.isURLSearchParams(e))r=e.toString();else{var o=[];cc.forEach(e,function(t,e){null!=t&&(cc.isArray(t)?e+="[]":t=[t],cc.forEach(t,function(t){cc.isDate(t)?t=t.toISOString():cc.isObject(t)&&(t=JSON.stringify(t)),o.push(sc(e)+"="+sc(t))}))}),r=o.join("&")}if(r){var i=t.indexOf("#");-1!==i&&(t=t.slice(0,i)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}function lc(){this.handlers=[]}lc.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},lc.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},lc.prototype.forEach=function(e){cc.forEach(this.handlers,function(t){null!==t&&e(t)})};function fc(e,n,t){return cc.forEach(t,function(t){e=t(e,n)}),e}function pc(t){return!(!t||!t.__CANCEL__)}function hc(n,r){cc.forEach(n,function(t,e){e!==r&&e.toUpperCase()===r.toUpperCase()&&(n[r]=t,delete n[e])})}function dc(t,e,n,r,o){var i,a,c,s,u,l=new Error(t);return a=e,c=n,s=r,u=o,(i=l).config=a,c&&(i.code=c),i.request=s,i.response=u,i.isAxiosError=!0,i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},i}var mc,vc,yc,gc=lc,bc=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],wc=cc.isStandardBrowserEnv()?(vc=/(msie|trident)/i.test(navigator.userAgent),yc=document.createElement("a"),mc=Ec(window.location.href),function(t){var e=cc.isString(t)?Ec(t):t;return e.protocol===mc.protocol&&e.host===mc.host}):function(){return!0};function Ec(t){var e=t;return vc&&(yc.setAttribute("href",e),e=yc.href),yc.setAttribute("href",e),{href:yc.href,protocol:yc.protocol?yc.protocol.replace(/:$/,""):"",host:yc.host,search:yc.search?yc.search.replace(/^\?/,""):"",hash:yc.hash?yc.hash.replace(/^#/,""):"",hostname:yc.hostname,port:yc.port,pathname:"/"===yc.pathname.charAt(0)?yc.pathname:"/"+yc.pathname}}function Cc(d){return new Promise(function(f,p){var n=d.data,r=d.headers;cc.isFormData(n)&&delete r["Content-Type"];var h=new XMLHttpRequest;if(d.auth){var t=d.auth.username||"",e=d.auth.password||"";r.Authorization="Basic "+btoa(t+":"+e)}if(h.open(d.method.toUpperCase(),uc(d.url,d.params,d.paramsSerializer),!0),h.timeout=d.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var t,e,n,r,o,i,a,c,s,u="getAllResponseHeaders"in h?(t=h.getAllResponseHeaders(),o={},t&&cc.forEach(t.split("\n"),function(t){if(r=t.indexOf(":"),e=cc.trim(t.substr(0,r)).toLowerCase(),n=cc.trim(t.substr(r+1)),e){if(o[e]&&0<=bc.indexOf(e))return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):null,l={data:d.responseType&&"text"!==d.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:u,config:d,request:h};i=f,a=p,!(s=(c=l).config.validateStatus)||s(c.status)?i(c):a(dc("Request failed with status code "+c.status,c.config,null,c.request,c)),h=null}},h.onabort=function(){h&&(p(dc("Request aborted",d,"ECONNABORTED",h)),h=null)},h.onerror=function(){p(dc("Network Error",d,null,h)),h=null},h.ontimeout=function(){p(dc("timeout of "+d.timeout+"ms exceeded",d,"ECONNABORTED",h)),h=null},cc.isStandardBrowserEnv()){var o=xc,i=(d.withCredentials||wc(d.url))&&d.xsrfCookieName?o.read(d.xsrfCookieName):void 0;i&&(r[d.xsrfHeaderName]=i)}if("setRequestHeader"in h&&cc.forEach(r,function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete r[e]:h.setRequestHeader(e,t)}),d.withCredentials&&(h.withCredentials=!0),d.responseType)try{h.responseType=d.responseType}catch(t){if("json"!==d.responseType)throw t}"function"==typeof d.onDownloadProgress&&h.addEventListener("progress",d.onDownloadProgress),"function"==typeof d.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",d.onUploadProgress),d.cancelToken&&d.cancelToken.promise.then(function(t){h&&(h.abort(),p(t),h=null)}),void 0===n&&(n=null),h.send(n)})}var xc=cc.isStandardBrowserEnv()?{write:function(t,e,n,r,o,i){var a=[];a.push(t+"="+encodeURIComponent(e)),cc.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),cc.isString(r)&&a.push("path="+r),cc.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Oc={"Content-Type":"application/x-www-form-urlencoded"};function Sc(t,e){!cc.isUndefined(t)&&cc.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var jc,Ac={adapter:("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)?jc=Cc:"undefined"!=typeof XMLHttpRequest&&(jc=Cc),jc),transformRequest:[function(t,e){return hc(e,"Accept"),hc(e,"Content-Type"),cc.isFormData(t)||cc.isArrayBuffer(t)||cc.isBuffer(t)||cc.isStream(t)||cc.isFile(t)||cc.isBlob(t)?t:cc.isArrayBufferView(t)?t.buffer:cc.isURLSearchParams(t)?(Sc(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):cc.isObject(t)?(Sc(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300}};Ac.headers={common:{Accept:"application/json, text/plain, */*"}},cc.forEach(["delete","get","head"],function(t){Ac.headers[t]={}}),cc.forEach(["post","put","patch"],function(t){Ac.headers[t]=cc.merge(Oc)});var Dc=Ac;function _c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}function Pc(e){var t,n,r;return _c(e),e.baseURL&&(r=e.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r))&&(e.url=(t=e.baseURL,(n=e.url)?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t)),e.headers=e.headers||{},e.data=fc(e.data,e.headers,e.transformRequest),e.headers=cc.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),cc.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||Dc.adapter)(e).then(function(t){return _c(e),t.data=fc(t.data,t.headers,e.transformResponse),t},function(t){return pc(t)||(_c(e),t&&t.response&&(t.response.data=fc(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}function Lc(e,n){n=n||{};var r={};return cc.forEach(["url","method","params","data"],function(t){void 0!==n[t]&&(r[t]=n[t])}),cc.forEach(["headers","auth","proxy"],function(t){cc.isObject(n[t])?r[t]=cc.deepMerge(e[t],n[t]):void 0!==n[t]?r[t]=n[t]:cc.isObject(e[t])?r[t]=cc.deepMerge(e[t]):void 0!==e[t]&&(r[t]=e[t])}),cc.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(t){void 0!==n[t]?r[t]=n[t]:void 0!==e[t]&&(r[t]=e[t])}),r}function Fc(t){this.defaults=t,this.interceptors={request:new gc,response:new gc}}Fc.prototype.request=function(t,e){"string"==typeof t?(t=e||{}).url=arguments[0]:t=t||{},(t=Lc(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var n=[Pc,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){n.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){n.push(t.fulfilled,t.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r},Fc.prototype.getUri=function(t){return t=Lc(this.defaults,t),uc(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},cc.forEach(["delete","get","head","options"],function(n){Fc.prototype[n]=function(t,e){return this.request(cc.merge(e||{},{method:n,url:t}))}}),cc.forEach(["post","put","patch"],function(r){Fc.prototype[r]=function(t,e,n){return this.request(cc.merge(n||{},{method:r,url:t,data:e}))}});var Tc=Fc;function Mc(t){this.message=t}Mc.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Mc.prototype.__CANCEL__=!0;var kc=Mc;function Rc(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new kc(t),e(n.reason))})}Rc.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Rc.source=function(){var e;return{token:new Rc(function(t){e=t}),cancel:e}};var Nc=Rc;function Ic(t){var e=new Tc(t),n=ec(Tc.prototype.request,e);return cc.extend(n,Tc.prototype,e),cc.extend(n,e),n}var zc=Ic(Dc);zc.Axios=Tc,zc.create=function(t){return Ic(Lc(zc.defaults,t))},zc.Cancel=kc,zc.CancelToken=Nc,zc.isCancel=pc,zc.all=function(t){return Promise.all(t)},zc.spread=function(e){return function(t){return e.apply(null,t)}};var Bc=zc,Uc=zc;Bc.default=Uc;var Hc=Bc,qc=(Object.defineProperty(Wc.prototype,"statusCode",{get:function(){return this.response.status},enumerable:!0,configurable:!0}),Object.defineProperty(Wc.prototype,"data",{get:function(){return this.response.data},enumerable:!0,configurable:!0}),Wc);function Wc(t){this.response=t}var Gc,Vc=(Xa(Kc,Gc=Error),Kc);function Kc(t,e,n){var r=Gc.call(this)||this;return r.message=t,r.request=e,r.response=n,r}var Yc=(Xc.prototype.setBody=function(t){return this.body=t,this},Xc.prototype.setQueryParams=function(t){return this.params=t,this},Xc.prototype.requestConfig=function(t){var e={url:this.url,headers:this.headers,params:this.params,method:t};return this.body&&(e.data=this.body),e=this.context.credentials.configureCredentials(e)},Xc.prototype.sendRequest=function(t){return Hc.request(this.requestConfig(t)).then(Xc.processResponse).catch(this.processErrorResponse)},Xc.prototype.get=function(){return this.body=null,this.sendRequest("get")},Xc.prototype.post=function(){return this.sendRequest("post")},Xc.prototype.put=function(){return this.sendRequest("put")},Xc.processResponse=function(t){return new qc(t)},Xc.prototype.processErrorResponse=function(t){var e,n="Unknown error";throw t.response?(e=new qc(t.response)).data&&(n=e.data.message||e.data.error):n=t.name+": "+t.message,new Vc(n,this,e)},Xc);function Xc(t,e){this.context=t,this.url=e,this.headers={"X-Alma-Agent":this.context.userAgentString,Accept:"application/json"},this.params={},this.body=null}var Jc=(Object.defineProperty(Qc.prototype,"logger",{get:function(){return this.context.logger},enumerable:!0,configurable:!0}),Qc.prototype.request=function(t){return new Yc(this.context,this.context.urlFor(t))},Qc);function Qc(t){this.context=t}var $c=(Object.defineProperty(Zc.prototype,"rawData",{get:function(){return this.data},enumerable:!0,configurable:!0}),Zc);function Zc(e){var n=this;this.data=e,Object.keys(e).forEach(function(t){return n[t]=e[t]})}var ts,es=(Xa(ns,ts=$c),Object.defineProperty(ns.prototype,"isEligible",{get:function(){return this.eligible},enumerable:!0,configurable:!0}),ns);function ns(){return null!==ts&&ts.apply(this,arguments)||this}var rs,os=(Xa(is,rs=Jc),is.prototype.eligibility=function(o){return i=this,s=function(){var e,n,r;return Qa(this,function(t){switch(t.label){case 0:return[4,this.request("/v1/payments/eligibility").setBody(o).post()];case 1:return e=t.sent(),n=500<=e.statusCode,r=e.data,[2,!n&&Array.isArray(r)?(r=r.sort(function(t,e){return t.installments_count-e.installments_count})).map(function(t){return new es(t)}):new es(!n&&r&&"object"==typeof r?r:{eligible:!1})]}})},new(c=(c=a=void 0)||Promise)(function(t,e){function n(t){try{o(s.next(t))}catch(t){e(t)}}function r(t){try{o(s.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new c(function(t){t(e.value)}).then(n,r)}o((s=s.apply(i,a||[])).next())});var i,a,c,s},is);function is(){return null!==rs&&rs.apply(this,arguments)||this}var as=(cs.prototype.configureCredentials=function(t){return Ja(Ja({},t),{headers:Ja(Ja({},t.headers),{Authorization:"Alma-Auth "+this.apiKey})})},cs);function cs(t){if(!t.trim())throw new Error("An API key is required to instantiate a new Client");this.apiKey=t}var ss=(us.prototype.configureCredentials=function(t){return Ja(Ja({},t),{headers:Ja(Ja({},t.headers),{Authorization:"Alma-Merchant-Auth "+this.merchantId})})},us);function us(t){if(!t.trim())throw new Error("An API key is required to instantiate a new Client");this.merchantId=t}var ls=(fs.withApiKey=function(t,e){return void 0===e&&(e={}),new fs(new as(t),e)},fs.withMerchantId=function(t,e){return void 0===e&&(e={}),new fs(new ss(t),e)},fs.initOptions=function(t){var e,n,r={apiRoot:((e={})[o.ApiMode.TEST]="https://api.sandbox.getalma.eu",e[o.ApiMode.LIVE]="https://api.getalma.eu",e),mode:o.ApiMode.LIVE,logger:console};if("string"==typeof(t=Ja(Ja({},r),t)).apiRoot)t.apiRoot=((n={})[o.ApiMode.TEST]=t.apiRoot,n[o.ApiMode.LIVE]=t.apiRoot,n);else if(!t.apiRoot||!t.apiRoot[o.ApiMode.TEST]||!t.apiRoot[o.ApiMode.LIVE])throw new Error("ClientOptions `apiRoot` must be a string or an object with ApiMode values as keys");if(t.mode!==o.ApiMode.LIVE&&t.mode!==o.ApiMode.TEST)throw new Error("ClientOptions `mode` must be an ApiMode value");return t},fs.prototype.initUserAgent=function(){this.addUserAgentComponent("JavaScript"),this.addUserAgentComponent("Alma for JS","0.0.1")},fs.prototype.addUserAgentComponent=function(t,e){this.context.addUserAgentComponent(t,e)},fs.prototype.endpoint=function(t){var e=this.endpoints.get(t);return e||(e=new t(this.context),this.endpoints.set(t,e)),e},Object.defineProperty(fs.prototype,"payments",{get:function(){return this.endpoint(os)},enumerable:!0,configurable:!0}),fs);function fs(t,e){void 0===e&&(e={}),this.endpoints=new Map,e=fs.initOptions(e),this.context=new Za(t,e),this.initUserAgent()}var ps=function(t,e){return(ps=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function hs(t,e){function n(){this.constructor=t}ps(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ds=function(){return(ds=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function ms(i,a,c,s){return new(c=c||Promise)(function(t,e){function n(t){try{o(s.next(t))}catch(t){e(t)}}function r(t){try{o(s.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new c(function(t){t(e.value)}).then(n,r)}o((s=s.apply(i,a||[])).next())})}function vs(n,r){var o,i,a,t,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=2&e[0]?i.return:e[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,e[1])).done)return a;switch(i=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,i=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){c=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){c.label=e[1];break}if(6===e[0]&&c.label<a[1]){c.label=a[1],a=e;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(e);break}a[2]&&c.ops.pop(),c.trys.pop();continue}e=r.call(n,c)}catch(t){e=[6,t],i=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var ys=(gs.prototype.create=function(t,e){var n=new t(this.almaClient,e);return this.widgets.push(n),n},gs.prototype.render=function(){return ms(this,void 0,void 0,function(){var e,n,r,o;return vs(this,function(t){switch(t.label){case 0:for(e=[],n=0,r=this.widgets;n<r.length;n++)o=r[n],e.push(o.refresh());return[4,Promise.all(e)];case 1:return t.sent(),[2]}})})},gs);function gs(t){this.widgets=[],this.almaClient=t}function bs(t,e){void 0===t&&(t=""),void 0===e&&(e="div");var n=document.createElement(e);return n.className=t,n}function ws(t,e,n){void 0===e&&(e=""),void 0===n&&(n="");var r=document.createElement("ul");r.className=e;var o=t.map(function(t){var e=document.createElement("li");return e.className=n,Os(e,t),e});return Os(r,o),r}function Es(t){return Math.round(100*t)}function Cs(t){return Number((t/100).toFixed(2))}function xs(t){return String(Cs(t)).replace(".",",")}function Os(t,e){if("string"==typeof e)t.innerHTML=e;else{t.innerHTML="",Array.isArray(e)||(e=[e]);for(var n=0,r=e;n<r.length;n++){var o=r[n];t.appendChild(o)}}}function Ss(t,e){void 0===e&&(e="");var n=new Image;return n.src=t,n.className=e,n}function js(t,e){return t.getUTCDate()===e.getUTCDate()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCFullYear()===e.getUTCFullYear()}function As(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),js(t,new Date)&&!n?"aujourd'hui":(r=t,o=new Date,js(r,new Date(o.setDate(o.getDate()-1)))&&!n?"hier":(e?"le ":"")+t.toLocaleDateString());var r,o}function Ds(t){return 1===t.length?String(t[0]):2===t.length?t.join(" ou "):t.slice(0,t.length-1).join(", ")+" ou "+t[t.length-1]}var _s=(Object.defineProperty(Ps.prototype,"config",{get:function(){return ds({},this._config)},enumerable:!0,configurable:!0}),Object.defineProperty(Ps.prototype,"container",{get:function(){var t;if("string"==typeof this._config.container){if(!(t=document.querySelector(this._config.container)))throw new Error("Container element '"+this._config.container+"' not found")}else t=this._config.container;return t},enumerable:!0,configurable:!0}),Ps.prototype.refresh=function(){return ms(this,void 0,void 0,function(){var e,n,r,o;return vs(this,function(t){switch(t.label){case 0:return[4,this.prepare(this._almaClient)];case 1:return e=t.sent(),n=new ys(this._almaClient),o=n.create.bind(n),"function"!=typeof this._config.render?[3,3]:[4,this._config.render(e,o)];case 2:return r=t.sent(),[3,5];case 3:return[4,this.render(e,o)];case 4:r=t.sent(),t.label=5;case 5:return this.mount(r),[4,n.render()];case 6:return t.sent(),[2]}})})},Ps.prototype.mount=function(t){Os(this.container,t)},Ps);function Ps(t,e){this._config=e,this._almaClient=t}var Ls="data:image/svg+xml;utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2288%22%20height%3D%2236%22%20viewBox%3D%220%200%2088%2036%22%3E%3Cpath%20fill%3D%22%233651D2%22%20d%3D%22M1%2031h87v5H1z%22%20%2F%3E%3Cpath%20fill%3D%22%23262626%22%20d%3D%22M13.008%2011.85v-1.71h4.922v15.247h-4.922v-1.846C11.674%2025.592%209.76%2025.9%208.495%2025.9c-2.188%200-4.034-.547-5.709-2.325C1.18%2021.866.564%2019.883.564%2017.866c0-2.563.957-4.751%202.359-6.153%201.333-1.333%203.18-2.085%205.299-2.085%201.299%200%203.384.307%204.786%202.222zm-3.556%202.017c-1.06%200-2.05.444-2.7%201.094-.513.512-1.129%201.401-1.129%202.769%200%201.367.582%202.256%201.026%202.735.684.717%201.743%201.196%202.906%201.196.991%200%201.914-.41%202.564-1.06.65-.615%201.196-1.572%201.196-2.871%200-1.094-.41-2.12-1.128-2.804-.752-.717-1.846-1.06-2.735-1.06zM25.612.466h4.922v24.921h-4.922V.466zm12.604%2024.921V10.141h4.922v1.777c1.265-1.914%203.111-2.154%204.274-2.154.65%200%201.846.069%202.871.684.786.445%201.436%201.197%201.846%202.12a5.82%205.82%200%200%201%201.949-1.949c1.06-.65%202.05-.855%203.247-.855%201.846%200%203.35.547%204.274%201.436%201.47%201.402%201.572%203.453%201.572%204.547v9.64h-4.923v-7.726c0-.786%200-2.153-.65-2.974-.41-.513-1.059-.82-1.777-.82-.82%200-1.504.376-1.914.923-.65.82-.752%202.017-.752%203.008v7.59h-4.923v-7.932c0-1.025-.034-2.222-.786-2.974-.513-.513-1.128-.615-1.641-.615-.65%200-1.23.17-1.71.615-.922.889-.957%202.598-.957%203.11v7.795h-4.922zM82.44%2011.85v-1.71h4.923v15.247h-4.923v-1.846c-1.333%202.051-3.247%202.359-4.512%202.359-2.188%200-4.034-.547-5.71-2.325-1.606-1.709-2.221-3.692-2.221-5.709%200-2.563.957-4.751%202.359-6.153%201.333-1.333%203.179-2.085%205.298-2.085%201.3%200%203.385.307%204.786%202.222zm-3.555%202.017c-1.06%200-2.051.444-2.7%201.094-.513.512-1.129%201.401-1.129%202.769%200%201.367.581%202.256%201.026%202.735.683.717%201.743%201.196%202.906%201.196.99%200%201.914-.41%202.563-1.06.65-.615%201.197-1.572%201.197-2.871%200-1.094-.41-2.12-1.128-2.804-.752-.717-1.846-1.06-2.735-1.06z%22%2F%3E%3C%2Fsvg%3E",Fs="data:image/svg+xml;utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20443.9%20476.5%22%3E%3Cpath%20fill%3D%22gray%22%20d%3D%22M222%2029.5c-115.4%200-209%2093.6-209%20209.1s93.6%20209.1%20209.1%20209.1%20209.1-93.6%20209.1-209.1C431.1%20123.1%20337.5%2029.5%20222%2029.5zm-2.6%2052.4c23.1%200%2041.8%2018.8%2041.8%2041.8s-18.8%2041.8-41.8%2041.8c-23.1%200-41.9-18.8-41.9-41.8s18.8-41.8%2041.9-41.8zm86.9%20276.9l-169.6-1.4.4-55.8%2060.8.5v-53.5l-61.2-.5.4-55.8%2088.9.7c15.3.1%2027.7%2012.6%2027.7%2027.9v81.5l53%20.5-.4%2055.9z%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E";var Ts,Ms={logo:function(){return Ss(Ls)},cta:function(t,e){var n=bs(e.cta);return n.appendChild(document.createTextNode("Comment ça marche ?")),n.appendChild(Ss(Fs)),n.onclick=t,n},modal:function(t,e,n){var r=bs(n.modal.wrapper),o=bs(n.modal.frame);Os(o,t);var i=document.createElement("button");return i.innerHTML="&times;",i.className=n.modal.closeButton,i.onclick=e,o.appendChild(i),r.appendChild(o),r.onclick=function(t){return t.target!==r?(t.preventDefault(),!1):e(t)},r},modalContent:function(t,e,u){var n=bs(u.modal.content.wrapper),r=bs(u.modal.content.logoContainer);Os(r,Ss(Ls)),n.appendChild(r);var o=bs("","p");o.innerText="Payer avec Alma, c'est simple et immédiat :",n.appendChild(o);var i=ws(["Validez votre panier","Sélectionnez l'option de paiement en plusieurs fois Alma","Entrez votre numéro de carte bancaire, et c'est tout !"]);n.appendChild(i);var a=bs(u.modal.content.paymentPlansWrapper),l=[],f=[];(t=t.sort(function(t,e){return t.length-e.length})).forEach(function(t){var e=t.length,n=xs(t.reduce(function(t,e){return t+e.purchase_amount},0)),r=Cs(t.reduce(function(t,e){return t+e.customer_fee},0)),o='<span class="amount">'+n+'&nbsp;€</span> en <span class="'+u.modal.content.paymentPlanButton.installmentsCount+'">'+e+"&times;</span>";l.push(o);var i=[],a=bs(u.modal.cardLogos.wrapper);a.appendChild(Ss("data:image/svg+xml;utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2216%22%20viewBox%3D%220%200%2024%2016%22%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22cardcb%22%20x1%3D%225.842%25%22%20x2%3D%2295.393%25%22%20y1%3D%2281.753%25%22%20y2%3D%2217.344%25%22%3E%3Cstop%20offset%3D%220%25%22%20stop-color%3D%22%2339B54A%22%3E%3C%2Fstop%3E%20%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22%230A5296%22%3E%3C%2Fstop%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22nonzero%22%3E%3Cpath%20fill%3D%22url(%23cardcb)%22%20d%3D%22M22.621%2016H1.38C.627%2016%200%2015.392%200%2014.662V1.338C0%20.608.627%200%201.379%200H22.62C23.373%200%2024%20.608%2024%201.338v13.324c-.063.73-.627%201.338-1.379%201.338z%22%3E%3C%2Fpath%3E%20%3Cg%20fill%3D%22%23FFF%22%3E%3Cpath%20d%3D%22M19.094%204.03h-6.437V8h6.498c1.165%200%202.084-.889%202.084-2.015-.06-1.066-.98-1.955-2.145-1.955zM19.094%208.593h-6.437v3.97h6.498c1.165%200%202.084-.889%202.084-2.015-.06-1.067-.98-1.955-2.145-1.955zM7.017%208.06h4.966c-.245-2.371-2.391-4.267-4.966-4.267-2.758%200-5.027%202.074-5.027%204.681s2.269%204.682%205.027%204.682c2.698%200%204.904-2.015%205.027-4.563H7.017v-.534z%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E",u.modal.cardLogos.logo)),a.appendChild(Ss("data:image/svg+xml;utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2216%22%20viewBox%3D%220%200%2024%2016%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22nonzero%22%3E%3Cpath%20fill%3D%22%23FCFCFC%22%20d%3D%22M22.684%2016H1.38C.627%2016%200%2015.39%200%2014.656V1.344C0%20.61.627%200%201.379%200H22.62C23.373%200%2024%20.61%2024%201.344v13.374c0%20.671-.564%201.282-1.316%201.282z%22%3E%3C%2Fpath%3E%20%3Cpath%20fill%3D%22%23005098%22%20d%3D%22M8.889%2010.726l.948-5.393h1.482l-.949%205.393zM15.704%205.452a3.658%203.658%200%200%200-1.304-.237c-1.481%200-2.489.71-2.489%201.778%200%20.77.711%201.185%201.304%201.481.592.237.77.415.77.652%200%20.355-.474.533-.889.533-.592%200-.889-.059-1.363-.296l-.177-.06-.178%201.186c.355.178%201.007.296%201.659.296%201.54%200%202.548-.71%202.548-1.837%200-.592-.415-1.067-1.244-1.481-.534-.237-.83-.415-.83-.652%200-.237.237-.474.83-.474.474%200%20.83.118%201.126.178l.118.059.119-1.126M19.496%205.333H18.37c-.355%200-.592.119-.77.474l-2.193%204.919h1.541s.237-.652.296-.83h1.897c.059.178.178.83.178.83h1.362l-1.185-5.393zM17.66%208.77l.593-1.481s.118-.296.178-.533l.118.474s.296%201.303.356%201.54h-1.245zM7.644%205.333L6.222%209.007l-.178-.77C5.748%207.348%204.92%206.459%204.03%205.985l1.303%204.682h1.541l2.311-5.393h-1.54%22%3E%3C%2Fpath%3E%20%3Cpath%20fill%3D%22%23F6A500%22%20d%3D%22M4.919%205.333h-2.37v.119c1.836.474%203.08%201.54%203.555%202.844L5.57%205.807c-.118-.414-.355-.474-.651-.474%22%3E%3C%2Fpath%3E%20%3Cpath%20fill%3D%22%230A5296%22%20d%3D%22M23.937%203.23H0V1.316C0%20.598.627%200%201.379%200H22.62C23.373%200%2024%20.598%2024%201.316V3.23h-.063z%22%3E%3C%2Fpath%3E%20%3Cpath%20fill%3D%22%23F4A428%22%20d%3D%22M.063%2013H24v1.8c0%20.655-.625%201.2-1.375%201.2H1.375C.625%2016%200%2015.455%200%2014.8V13h.063z%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E",u.modal.cardLogos.logo)),a.appendChild(Ss("data:image/svg+xml;utf-8,%3Csvg%20width%3D%2224px%22%20height%3D%2216px%22%20viewBox%3D%220%200%2024%2016%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cg%20id%3D%22Parcours-1C-B%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20id%3D%22mobile-1C-Paiement-V1%22%20transform%3D%22translate(-269.000000%2C%20-313.000000)%22%3E%3Cg%20id%3D%22mastercard%22%20transform%3D%22translate(269.000000%2C%20313.000000)%22%3E%3Crect%20id%3D%22Rectangle%22%20fill%3D%22%23FFFFFF%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2224%22%20height%3D%2216%22%20rx%3D%221%22%3E%3C%2Frect%3E%20%3Cg%20id%3D%22Group-6%22%20transform%3D%22translate(4.000000%2C%203.000000)%22%3E%3Ccircle%20id%3D%22Oval-4-Copy%22%20fill%3D%22%23EA001B%22%20cx%3D%225.05263158%22%20cy%3D%225.05263158%22%20r%3D%225.05263158%22%3E%3C%2Fcircle%3E%20%3Ccircle%20id%3D%22Oval-4%22%20fill-opacity%3D%220.25%22%20fill%3D%22%23F79F1A%22%20cx%3D%2210.9473684%22%20cy%3D%225.05263158%22%20r%3D%225.05263158%22%3E%3C%2Fcircle%3E%20%3Ccircle%20id%3D%22Oval-4-Copy-2%22%20fill-opacity%3D%220.9%22%20fill%3D%22%23F79F1A%22%20cx%3D%2210.9473684%22%20cy%3D%225.05263158%22%20r%3D%225.05263158%22%3E%3C%2Fcircle%3E%20%3Ccircle%20id%3D%22Oval-4-Copy-3%22%20fill-opacity%3D%220.3%22%20fill%3D%22%23EA001B%22%20cx%3D%225.05263158%22%20cy%3D%225.05263158%22%20r%3D%225.05263158%22%3E%3C%2Fcircle%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E",u.modal.cardLogos.logo)),a.appendChild(Ss("data:image/svg+xml;utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2216%22%20viewBox%3D%220%200%2024%2016%22%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22cardamex%22%20x1%3D%2210.914%25%22%20x2%3D%2287.432%25%22%20y1%3D%2286.279%25%22%20y2%3D%2215.035%25%22%3E%3Cstop%20offset%3D%220%25%22%20stop-color%3D%22%233FA9F5%22%3E%3C%2Fstop%3E%20%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22%230071BC%22%3E%3C%2Fstop%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20fill%3D%22url(%23cardamex)%22%20fill-rule%3D%22nonzero%22%20d%3D%22M22.559%2016H1.379C.627%2016%200%2015.392%200%2014.662V1.338C0%20.608.627%200%201.379%200H22.62C23.373%200%2024%20.608%2024%201.338v13.324c-.063.73-.627%201.338-1.441%201.338z%22%3E%3C%2Fpath%3E%20%3Cg%20fill%3D%22%23FFF%22%3E%3Cpath%20d%3D%22M10.115%208.711L8.889%206.044H7.295v3.852L5.517%206.044H4.17l-1.778%204.03h1.103l.368-.889h2.023l.368.89h2.084V7.11l1.349%202.963h.92l1.348-2.904v2.904h.98v-4.03H11.28l-1.165%202.667zm-5.272-.474H4.23l.613-1.422v.06l.613%201.362h-.613z%22%3E%3C%2Fpath%3E%20%3Cpath%20fill-rule%3D%22nonzero%22%20d%3D%22M19.372%207.94l.735-.77%201.042-1.185h-1.287L18.697%207.23l-1.164-1.245h-3.985v3.97h3.923l1.226-1.303%201.165%201.304h1.287L20.107%208.71l-.735-.77zM16.92%209.186h-2.33v-.77h2.268v-.77H14.59v-.712h2.33L18.084%208%2016.92%209.185z%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E",u.modal.cardLogos.logo)),i.push(a);var c=bs(u.modal.content.creditCardPayment,"p"),s="Paiement ";s+=0===r?"<strong>sans frais,</strong> par carte bancaire":"par carte bancaire",s+=", en "+e+" échéances :",c.innerHTML=s,i.push(c),i.push(ws(t.map(function(t){var e=xs(t.purchase_amount+t.customer_fee),n=0===t.customer_fee?"":"(dont frais : "+xs(t.customer_fee)+"&nbsp;€)",r=As(new Date(1e3*t.due_date),!0),o='<span class="'+u.modal.content.installmentAmount+'">'+e+"&nbsp;€</span>";return o+=' <span class="'+u.modal.content.installmentDate+'">'+r+"</span> ",o+=' <span class="'+u.modal.content.installmentFees+'">'+n+"</span> "}))),f.push(i)});var c=ws(l,u.modal.content.paymentPlansButtons,u.modal.content.paymentPlanButton.button);a.appendChild(c);var s=bs(u.modal.content.paymentPlanDetailsWrapper);a.appendChild(s),Os(s,f[0]),c.querySelector("."+u.modal.content.paymentPlanButton.button).classList.add(u.modal.content.paymentPlanButton.selected),c.onclick=function(t){var e,n;null===(e=c.querySelector("."+u.modal.content.paymentPlanButton.selected))||void 0===e||e.classList.remove(u.modal.content.paymentPlanButton.selected);var r=null===(n=t.target)||void 0===n?void 0:n.closest("."+u.modal.content.paymentPlanButton.button);if(r){var o=Array.from(c.children).indexOf(r);Os(s,f[o]),r.classList.add(u.modal.content.paymentPlanButton.selected)}},n.appendChild(a);var p=bs(u.modal.content.footer.wrapper),h=document.createElement("button");return h.className=u.modal.content.footer.closeButton,h.innerText="J'ai compris !",h.onclick=e,p.appendChild(h),n.appendChild(p),n}},ks={root:"alma-how_it_works",logo:"alma-how_it_works--logo",cta:"alma-how_it_works--cta",modal:{root:"alma-modal",wrapper:"alma-modal--wrapper",frame:"alma-modal--frame",closeButton:"alma-modal--close-btn",cardLogos:{wrapper:"alma-hiw_content--card-logos",logo:"alma-hiw_content--card-logo"},content:{wrapper:"alma-hiw_content--wrapper",logoContainer:"alma-hiw_content--logo",paymentPlansWrapper:"alma-hiw_content--plans",paymentPlansButtons:"alma-hiw_content--plans-btns",paymentPlanButton:{button:"alma-hiw_content--plan-btn",selected:"alma-hiw_content--plan-btn__selected",installmentsCount:"alma-hiw_content--plan-btn--installments_count"},paymentPlanDetailsWrapper:"alma-hiw_content--plan-details",creditCardPayment:"alma-hiw_content--cc-payment",installmentAmount:"alma-hiw_content--installment-amount",installmentFees:"alma-hiw_content--installment-fees",installmentDate:"alma-hiw_content--installment-date",footer:{wrapper:"alma-hiw_content--footer",closeButton:"alma-hiw_content--close-btn"}}}},Rs=(hs(Ns,Ts=_s),Object.defineProperty(Ns.prototype,"config",{get:function(){return ds({},this._config)},enumerable:!0,configurable:!0}),Ns.prototype.openModal=function(t){return t.preventDefault(),!(this.modalWrapper.style.display="block")},Ns.prototype.closeModal=function(t){return t.preventDefault(),!(this.modalWrapper.style.display="none")},Ns.prototype.prepare=function(e){return ms(this,void 0,void 0,function(){return vs(this,function(t){switch(t.label){case 0:return 0!==this.config.samplePlans.length?[3,2]:[4,e.payments.eligibility({payment:{purchase_amount:3e4,installments_count:[3,4]}})];case 1:return[2,t.sent().filter(function(t){return t.eligible}).map(function(t){return t.payment_plan})];case 2:return[2,this.config.samplePlans]}})})},Ns.prototype.render=function(a){return ms(this,void 0,void 0,function(){var e,n,r,o,i;return vs(this,function(t){return(e=document.createElement("div")).className=this.config.classes.root,this.config.displayLogo&&(Os(n=bs(this.config.classes.logo),this.config.templates.logo(this.config.classes)),e.appendChild(n)),Os(r=bs(),this.config.templates.cta(this.openModal.bind(this),this.config.classes)),e.appendChild(r),o=this.closeModal.bind(this),i=this.config.templates.modalContent(a,o,this.config.classes),this.modalWrapper=bs(this.config.classes.modal.root),this.modalWrapper.style.display="none",Os(this.modalWrapper,this.config.templates.modal(i,o,this.config.classes)),document.body.appendChild(this.modalWrapper),[2,e]})})},Ns);function Ns(t,e){var n=this;return e=ds(ds({displayLogo:!0,displayInfoIcon:!0,ctaContent:"Comment ça marche ?",samplePlans:[]},e),{templates:ds(ds({},Ms),e.templates),classes:ds(ds({},ks),e.classes)}),(n=Ts.call(this,t,e)||this).modalWrapper=null,n}function Is(o,i){return function(t,e){var n=bs(e.cta);n.appendChild(o);var r=Ss(Fs);return r.className=i.infoButton,n.appendChild(r),n.onclick=t,n}}function zs(t,e){var n=document.createElement("span");return n.className=e.paymentPlan.installmentAmount,n.innerHTML=t,n}var Bs,Us,Hs,qs={title:function(t,e,n){var r=bs(e.classes.title),o=document.createElement("strong"),i=t.map(function(t){return t.payment_plan.reduce(function(t,e){return t+e.customer_fee},0)}).reduce(function(t,e){return t+e},0);return o.innerHTML="Payez "+xs(e.purchaseAmount)+"&nbsp;€ en "+Ds(t.map(function(t){return t.installments_count}))+" fois"+(0===i?" sans frais":""),n(Rs,{container:r,displayLogo:!1,samplePlans:t.map(function(t){return t.payment_plan}),templates:{cta:Is(o,e.classes)}}),r},paymentPlan:function(t,e,n){var r=document.createElement("span");r.className=e.classes.paymentPlan.installmentsCount,r.innerHTML=t.installments_count+"&times;";var o=document.createElement("span");o.className=e.classes.paymentPlan.installmentsWrapper;var i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r}(t.payment_plan),a=t.payment_plan.every(function(t,e,n){return t.purchase_amount+t.customer_fee===n[0].purchase_amount+n[0].customer_fee});if(!a){var c=t.payment_plan[0].purchase_amount+t.payment_plan[0].customer_fee;o.appendChild(zs(xs(c)+" €",e.classes)),o.appendChild(document.createTextNode(" + "))}var s=i[1].purchase_amount+i[1].customer_fee,u=a?i.length:i.length-1;return o.appendChild(zs(u+" &times; "+xs(s)+" €",e.classes)),[r,o]},notEligible:function(t,e,n,r,o){var i=bs(r.classes.title),a=document.createElement("strong");return a.innerHTML="Payez en "+Ds(n)+" fois entre "+xs(t)+"&nbsp;€ et "+xs(e)+"&nbsp;€",o(Rs,{container:i,displayLogo:!1,templates:{cta:Is(a,r.classes)}}),i}},Ws={root:"alma-payment_plan",title:"alma-payment_plan--title",infoButton:"alma-payment_plan--info_btn",paymentPlan:{root:"alma-payment_plan--plan",installmentsCount:"alma-payment_plan--installments_count",installmentsWrapper:"alma-payment_plan--installments",installmentAmount:"alma-payment_plan--installment"},notEligible:"alma-payment_plan--not_eligible"},Gs=(hs(Vs,Bs=_s),Object.defineProperty(Vs.prototype,"config",{get:function(){return ds({},this._config)},enumerable:!0,configurable:!0}),Object.defineProperty(Vs.prototype,"installmentsCounts",{get:function(){var t=this.config.installmentsCount;return"number"==typeof this.config.installmentsCount&&(t=[this.config.installmentsCount]),t},enumerable:!0,configurable:!0}),Vs.prototype.prepare=function(r){return ms(this,void 0,void 0,function(){var e,n;return vs(this,function(t){return e=this._config,n=this.installmentsCounts,e.purchaseAmount<e.minPurchaseAmount||e.purchaseAmount>e.maxPurchaseAmount?[2,[{eligible:!1,reasons:{purchase_amount:"invalid_value"},constraints:{purchase_amount:{minimum:e.minPurchaseAmount,maximum:e.maxPurchaseAmount}}}]]:[2,r.payments.eligibility({payment:{purchase_amount:e.purchaseAmount,installments_count:n}})]})})},Vs.prototype.render=function(m,v){return ms(this,void 0,void 0,function(){var e,n,r,o,i,a,c,s,u,l,f,p,h,d;return vs(this,function(t){for((e=document.createElement("div")).className=this.config.classes.root,n=[],r=Number.MAX_VALUE,o=Number.MIN_VALUE,i=0,a=m;i<a.length;i++)(p=a[i]).eligible?n.push(p):p.reasons.installments_count||(c=Math.max(this.config.minPurchaseAmount||0,p.constraints.purchase_amount.minimum),s=Math.min(this.config.maxPurchaseAmount||0,p.constraints.purchase_amount.maximum),r=c<r?c:r,o=o<s?s:o);if(0<n.length)for((u=document.createElement("div")).className=this.config.classes.title,Os(u,this.config.templates.title(n,this.config,v)),Os(e,u),l=0,f=n;l<f.length;l++)p=f[l],(h=document.createElement("div")).className=this.config.classes.paymentPlan.root,Os(h,this.config.templates.paymentPlan(p,this.config,v)),e.appendChild(h);else(d=document.createElement("div")).className=this.config.classes.notEligible,Os(d,this.config.templates.notEligible(r,o,this.installmentsCounts,this.config,v)),Os(e,d);return[2,e]})})},Vs);function Vs(t,e){return e=ds(ds({},e),{templates:ds(ds({},qs),e.templates),classes:ds(ds({},Ws),e.classes)}),Bs.call(this,t,e)||this}(Us=o.Widgets||(o.Widgets={})).initialize=function(t,e){var n=ls.withMerchantId(t,{mode:e});return new ys(n)},Us.PaymentPlan=Gs,Us.HowItWorks=Rs,(Hs=o.Utils||(o.Utils={})).priceToCents=Es,Hs.priceFromCents=Cs,Hs.formatCents=xs,Hs.joinInstallmentsCounts=Ds,Object.defineProperty(o,"__esModule",{value:!0})});
//# sourceMappingURL=alma-widgets.umd.min.js.map
